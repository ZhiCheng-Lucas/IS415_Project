{
  "hash": "5f62c0ca9226f3d1e9ae820e39c2476d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 1: Geographical distribution of Armed Conflict in Myanmar\"\nauthor: \"Chong Zhi Cheng\"\ndate: \"September 16, 2024\"\ndate-modified: \"last-modified\"\nexecute:\n  eval: true\n  echo: true\n  freeze: true\n  warning: false\n---\n\n\n## **Setting the Scene**\n\nMillions of people have their lives shattered by armed conflict – wars – every year.\n\nArmed conflict has been on the rise since about 2012, after a decline in the 1990s and early 2000s. First came conflicts in Libya, Syria and Yemen, triggered by the 2011 Arab uprisings. Libya’s instability spilled south, helping set off a protracted crisis in the Sahel region. A fresh wave of major combat followed: the 2020 Azerbaijani-Armenian war over the Nagorno-Karabakh enclave, horrific fighting in Ethiopia’s northern Tigray region that began weeks later, the conflict prompted by the Myanmar army’s 2021 power grab and Russia’s 2022 assault on Ukraine. Add to those 2023’s devastation in Sudan and Gaza. Around the globe, more people are dying in fighting, being forced from their homes or in need of life-saving aid than in decades.\n\nSource: [10 Conflicts to Watch in 2024](https://www.crisisgroup.org/global/10-conflicts-watch-2024)\n\n## **Objectives**\n\nGeospatial analytics hold tremendous potential to address complex problems facing society. In this study, you are tasked to apply spatial point patterns analysis methods to discover the spatial and spatio-temporal distribution of armed conflict in Myanmar.\n\n## **The Data**\n\n### **Armed conflict data**\n\nFor the purpose of this assignment, armed conflict data of Myanmar between 2021-2024 from [Armed Conflict Location & Event Data (ACLED)](https://acleddata.com/), an independent, impartial, international non-profit organization collecting data on violent conflict and protest in all countries and territories in the world, should be used.\n\nIn terms of event types, students should focus on at least four main event types, namely: Battles, Explosion/Remote violence, Strategic developments, and Violence against civilians.\n\nIn terms of study period, students should focus on quarterly armed conflict events from January 2021 until June 2024.\n\n### **GIS Data**\n\n-   [Geospatial data](http://geonode.themimu.info/layers/?limit=100&offset=0) on [Myanmar Information Management Unit, MIMU](http://www.themimu.info/)\n\n## **The Task**\n\nThe specific tasks of this take-home exercise are as follows:\n\n-   Using appropriate function of **sf** and **tidyverse** packages, import and transform the downloaded armed conflict data and administrative boundary data into sf tibble data.frames.\n\n-   Using the geospatial data sets prepared, derive quarterly KDE layers.\n\n-   Using the geospatial data sets prepared, perform 2nd-Order Spatial Point Patterns Analysis.\n\n-   Using the geospatial data sets prepared, derive quarterly spatio-temporal KDE layers.\n\n-   Using the geospatial data sets prepared, perform 2nd-Order Spatio-temporal Point Patterns Analysis.\n\n-   Using appropriate **tmap** functions, display the KDE and Spatio-temporal KDE layers on openstreetmap of Myanmar.\n\n-   Describe the spatial patterns revealed by the KDE and Spatio-temporal KDE maps.\n\nACLED snapshot date: September 16 2024\n\nACLED Data Columns\n\n| Field Name       | Description                                                                                                                                                    |\n|-----------------------------------|-------------------------------------|\n| ISO              | A numeric code for each individual country                                                                                                                     |\n| EVENT_ID_CNTY    | An individual event identifier by number and country acronym                                                                                                   |\n| EVENT_ID_NO_CNTY | An individual event numeric identifier                                                                                                                         |\n| EVENT_DATE       | Recorded as Day / Month / Year                                                                                                                                 |\n| YEAR             | The year in which an event took place                                                                                                                          |\n| TIME_PRECISION   | A numeric code indicating the level of certainty of the date coded for the event (1-3)                                                                         |\n| EVENT_TYPE       | The type of event                                                                                                                                              |\n| SUB_EVENT_TYPE   | The type of sub-event                                                                                                                                          |\n| ACTOR1           | A named actor involved in the event                                                                                                                            |\n| ASSOC_ACTOR_1    | The named actor associated with or identifying with ACTOR1 in one specific event                                                                               |\n| INTER1           | A numeric code indicating the type of ACTOR1                                                                                                                   |\n| ACTOR2           | The named actor involved in the event. If a dyadic event, there will also be an \"Actor 1\"                                                                      |\n| ASSOC_ACTOR_2    | The named actor associated with or identifying with ACTOR2 in one specific event                                                                               |\n| INTER2           | A numeric code indicating the type of ACTOR2                                                                                                                   |\n| INTERACTION      | A numeric code indicating the interaction between types of ACTOR1 and ACTOR2. Coded as an interaction between actor types, and recorded as lowest joint number |\n| REGION           | The region of the world where the event took place                                                                                                             |\n| COUNTRY          | The country in which the event took place                                                                                                                      |\n| ADMIN1           | The largest sub-national administrative region in which the event took place                                                                                   |\n| ADMIN2           | The second largest sub-national administrative region in which the event took place                                                                            |\n| ADMIN3           | The third largest sub-national administrative region in which the event took place                                                                             |\n| LOCATION         | The location in which the event took place                                                                                                                     |\n| LATITUDE         | The latitude of the location                                                                                                                                   |\n| LONGITUDE        | The longitude of the location                                                                                                                                  |\n| GEO_PRECISION    | A numeric code indicating the level of certainty of the location coded for the event                                                                           |\n| SOURCE           | The source(s) used to code the event                                                                                                                           |\n| SOURCE SCALE     | The geographic scale of the sources used to code the event                                                                                                     |\n| NOTES            | A short description of the event                                                                                                                               |\n| FATALITIES       | Number or estimate of fatalities due to event. These are frequently different across reports                                                                   |\n\n## Importing Data and Data Wrangling and Cleanup\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, raster, spatstat, tmap, tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nconflict_data <- read_csv(\"data/2021-01-01-2024-06-30-Myanmar.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Import the CSV file\nconflict_data <- read_csv(\"data/2021-01-01-2024-06-30-Myanmar.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Transform the data into an sf tibble data frame\n\n\n#EPSG:4144 for Kalianpur 1937 Myanmar (Burma) - Moattama area. , accuracy 5.0 m, #code 1533 (default) [3]\n\nconflict_data_sf <- conflict_data %>%\n  st_as_sf(coords = c(\"longitude\", \"latitude\"), crs = 4326)%>%\n  st_transform(crs = 4144)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nconflict_data_sf\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 42608 features and 30 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 92.18668 ymin: 9.980644 xmax: 100.3576 ymax: 27.5053\nGeodetic CRS:  Kalianpur 1937\n# A tibble: 42,608 × 31\n   event_id_cnty event_date    year time_precision disorder_type      event_type\n * <chr>         <chr>        <dbl>          <dbl> <chr>              <chr>     \n 1 MMR64313      30 June 2024  2024              1 Political violence Battles   \n 2 MMR64320      30 June 2024  2024              1 Political violence Battles   \n 3 MMR64321      30 June 2024  2024              1 Political violence Battles   \n 4 MMR64322      30 June 2024  2024              1 Strategic develop… Strategic…\n 5 MMR64323      30 June 2024  2024              1 Political violence Battles   \n 6 MMR64324      30 June 2024  2024              1 Strategic develop… Strategic…\n 7 MMR64325      30 June 2024  2024              1 Political violence Battles   \n 8 MMR64326      30 June 2024  2024              1 Political violence Battles   \n 9 MMR64328      30 June 2024  2024              1 Political violence Battles   \n10 MMR64330      30 June 2024  2024              1 Political violence Battles   \n# ℹ 42,598 more rows\n# ℹ 25 more variables: sub_event_type <chr>, actor1 <chr>, assoc_actor_1 <chr>,\n#   inter1 <dbl>, actor2 <chr>, assoc_actor_2 <chr>, inter2 <dbl>,\n#   interaction <dbl>, civilian_targeting <chr>, iso <dbl>, region <chr>,\n#   country <chr>, admin1 <chr>, admin2 <chr>, admin3 <chr>, location <chr>,\n#   geo_precision <dbl>, source <chr>, source_scale <chr>, notes <chr>,\n#   fatalities <dbl>, tags <chr>, timestamp <dbl>, population_best <dbl>, …\n```\n\n\n:::\n:::\n\n\n# \n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_mode(\"plot\")\nqtm(conflict_data_sf, \n    fill = \"fatalities\")\n```\n\n::: {.cell-output-display}\n![](Takehome_Ex1_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Correspond to country column in acled data\nadm0 = st_read(dsn = \"data/adm0\", \n                  layer = \"mmr_polbnda_adm0_250k_mimu_1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm0_250k_mimu_1' from data source \n  `C:\\zcchong\\IS415\\Takehome_Ex\\Takehome_Ex1\\data\\adm0' using driver `ESRI Shapefile'\nSimple feature collection with 1 feature and 2 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n# Correspond to admin1 column in acled data\nadm1 = st_read(dsn = \"data/adm1\", \n                  layer = \"mmr_polbnda_adm1_250k_mimu_1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm1_250k_mimu_1' from data source \n  `C:\\zcchong\\IS415\\Takehome_Ex\\Takehome_Ex1\\data\\adm1' using driver `ESRI Shapefile'\nSimple feature collection with 15 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n# Correspond to admin2 column in acled data\nadm2 = st_read(dsn = \"data/adm2\", \n                  layer = \"mmr_polbnda_adm2_250k_mimu\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm2_250k_mimu' from data source \n  `C:\\zcchong\\IS415\\Takehome_Ex\\Takehome_Ex1\\data\\adm2' using driver `ESRI Shapefile'\nSimple feature collection with 80 features and 7 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n# Correspond to admin3 column in acled data\nadm3 = st_read(dsn = \"data/adm3\", \n                  layer = \"mmr_polbnda_adm3_250k_mimu_1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `mmr_polbnda_adm3_250k_mimu_1' from data source \n  `C:\\zcchong\\IS415\\Takehome_Ex\\Takehome_Ex1\\data\\adm3' using driver `ESRI Shapefile'\nSimple feature collection with 330 features and 9 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extract the shapeName column\nshape_names <- adm1$ST\n\n# To get unique shape names (if there are duplicates)\nunique_shape_names <- unique(shape_names)\nprint(unique_shape_names)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Ayeyarwady\"  \"Bago\"        \"Chin\"        \"Kachin\"      \"Kayah\"      \n [6] \"Kayin\"       \"Magway\"      \"Mandalay\"    \"Mon\"         \"Nay Pyi Taw\"\n[11] \"Rakhine\"     \"Sagaing\"     \"Shan\"        \"Tanintharyi\" \"Yangon\"     \n```\n\n\n:::\n\n```{.r .cell-code}\n# Unique admin1 list from acled file\nunique_admin1 <- unique(conflict_data_sf$admin1)\nprint(unique_admin1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Mandalay\"    \"Sagaing\"     \"Shan-North\"  \"Shan-South\"  \"Ayeyarwady\" \n [6] \"Bago-East\"   \"Chin\"        \"Kachin\"      \"Mon\"         \"Rakhine\"    \n[11] \"Magway\"      \"Tanintharyi\" \"Bago-West\"   \"Kayah\"       \"Kayin\"      \n[16] \"Yangon\"      \"Shan-East\"   \"Nay Pyi Taw\"\n```\n\n\n:::\n:::\n\n\n-   Number of unique entries:\n\n    -   First list: 18 entries\n\n    -   Second list: 15 entries\n\n\n```{=html}\n<!-- -->\n```\n\n-   Differences in representation:\n\n    a\\) Shan region:\n\n    -   First list: Split into \"Shan-North\", \"Shan-South\", and \"Shan-East\"\n\n    -   Second list: Consolidated as just \"Shan\"\n\n     b) Bago region:\n\n    -   First list: Split into \"Bago-East\" and \"Bago-West\"\n\n    -   Second list: Consolidated as just \"Bago\"\n\n\n```{=html}\n<!-- -->\n```\n\n-   Consistent entries (appear in both lists): \"Ayeyarwady\", \"Chin\", \"Kachin\", \"Kayah\", \"Kayin\", \"Magway\", \"Mandalay\", \"Mon\", \"Nay Pyi Taw\", \"Rakhine\", \"Sagaing\", \"Tanintharyi\", \"Yangon\"\n\nacled splits Bago into east and west and shan to north,south and east. \\\nhowever, the shapefile doesnt.\\\nFor the sake of consistency, we will change the column in acled from bago east west to bago. and shan north, south and east to Shan\n\n\n::: {.cell}\n\n```{.r .cell-code}\nadm1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 15 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 92.1721 ymin: 9.696844 xmax: 101.17 ymax: 28.54554\nGeodetic CRS:  WGS 84\nFirst 10 features:\n   OBJECTID          ST ST_PCODE           ST_RG          ST_MMR PCode_V\n1         1  Ayeyarwady   MMR017          Region  ဧရာဝတီတိုင်းဒေသကြီး     9.4\n2         2        Bago   MMR111          Region    ပဲခူးတိုင်းဒေသကြီး     9.4\n3         4        Chin   MMR004           State       ချင်းပြည်နယ်     9.4\n4         5      Kachin   MMR001           State       ကချင်ပြည်နယ်     9.4\n5         6       Kayah   MMR002           State       ကယားပြည်နယ်     9.4\n6         7       Kayin   MMR003           State        ကရင်ပြည်နယ်     9.4\n7         8      Magway   MMR009          Region   မကွေးတိုင်းဒေသကြီး     9.4\n8         9    Mandalay   MMR010          Region မန္တလေးတိုင်းဒေသကြီး     9.4\n9        10         Mon   MMR011           State         မွန်ပြည်နယ်     9.4\n10       11 Nay Pyi Taw   MMR018 Union Territory        နေပြည်တော်     9.4\n                         geometry\n1  MULTIPOLYGON (((95.20798 15...\n2  MULTIPOLYGON (((96.17964 19...\n3  MULTIPOLYGON (((93.36931 24...\n4  MULTIPOLYGON (((97.59674 28...\n5  MULTIPOLYGON (((97.1759 19....\n6  MULTIPOLYGON (((97.81508 16...\n7  MULTIPOLYGON (((94.11699 22...\n8  MULTIPOLYGON (((96.14023 23...\n9  MULTIPOLYGON (((97.73689 15...\n10 MULTIPOLYGON (((96.32013 20...\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nqtm(adm1)\n```\n\n::: {.cell-output-display}\n![](Takehome_Ex1_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Combine Bago-West and Bago-East to Bago, and Shan-North, Shan-East, Shan-South to Shan\nconflict_data_sf <- conflict_data_sf %>%\n  mutate(admin1 = case_when(\n    admin1 %in% c(\"Bago-West\", \"Bago-East\") ~ \"Bago\",\n    admin1 %in% c(\"Shan-North\", \"Shan-East\", \"Shan-South\") ~ \"Shan\",\n    TRUE ~ admin1\n  ))\n\n# Check the results\nconflict_data_sf %>% \n  count(admin1) %>% \n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSimple feature collection with 15 features and 2 fields\nGeometry type: MULTIPOINT\nDimension:     XY\nBounding box:  xmin: 92.18668 ymin: 9.980644 xmax: 100.3576 ymax: 27.5053\nGeodetic CRS:  Kalianpur 1937\n# A tibble: 15 × 3\n   admin1          n                                                    geometry\n   <chr>       <int>                                            <MULTIPOINT [°]>\n 1 Sagaing     11128 ((94.5295 21.9159), (94.5751 21.8516), (94.5711 21.8605), …\n 2 Shan         4424 ((96.914 19.4149), (96.322 20.9722), (96.401 21.0353), (96…\n 3 Magway       4179 ((94.1556 21.1498), (94.2162 21.228), (94.2147 21.1649), (…\n 4 Mandalay     3603 ((94.8625 21.1319), (94.8634 21.152), (95.0026 21.2377), (…\n 5 Kachin       2776 ((97.8178 27.5053), (98.3603 27.0604), (98.0416 26.7848), …\n 6 Yangon       2608 ((95.69615 17.38125), (95.70656 17.37705), (95.96669 17.22…\n 7 Rakhine      2279 ((92.21268 21.15638), (92.21828 21.14377), (92.24899 21.11…\n 8 Tanintharyi  2241 ((98.78145 10.43677), (98.76815 10.40647), (98.62803 10.35…\n 9 Bago         1858 ((95.0013 18.7122), (95.0138 18.6851), (95.0301 18.6833), …\n10 Kayin        1830 ((97.747 16.56785), (97.76001 16.76347), (97.6969 16.72207…\n11 Mon          1677 ((97.39626 16.77337), (97.41666 16.72987), (97.42666 16.69…\n12 Chin         1557 ((93.3623 20.9769), (93.3027 20.822), (93.2981 20.8301), (…\n13 Kayah        1327 ((97.5634 18.6529), (97.1643 18.8134), (97.2999 18.8978), …\n14 Ayeyarwady    853 ((94.41967 15.85754), (94.81202 15.82553), (95.04365 15.84…\n15 Nay Pyi Taw   268 ((95.9525 19.7318), (95.9524 19.7347), (96.0519 19.828), (…\n```\n\n\n:::\n:::\n",
    "supporting": [
      "Takehome_Ex1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}